# 第三章：非稳态电路深度剖析 (Deep Dive)

## 一、 元件的“微积分”本质 (The Calculus of Elements)
这部分不仅要记公式，要理解**因果关系**和**能量**。

### 1. 电容 (Capacitor)
*   **核心定义**：$q = Cv$
*   **V-I 关系 (微分形式)**：$i(t) = C \frac{dv(t)}{dt}$
    *   *深层含义*：电流的大小取决于电压**变化的快慢**，而不是电压的大小。直流电压下 $dv/dt=0$，所以 $i=0$ (开路)。
*   **V-I 关系 (积分形式)**：$v(t) = \frac{1}{C} \int_{-\infty}^{t} i(\tau) d\tau = v(t_0) + \frac{1}{C} \int_{t_0}^{t} i(\tau) d\tau$
    *   *深层含义*：电容具有**记忆性 (Memory Property)**。当前的电压取决于从盘古开天辟地到现在所有电流的积累。
*   **能量**：$w(t) = \int_{-\infty}^{t} p(\tau) d\tau = \frac{1}{2}Cv^2(t)$
    *   *考点*：$w(t) \ge 0$，它是无源元件 (Passive)，只存能不耗能。

### 2. 电感 (Inductor)
*   **核心定义**：$\psi = Li$ (磁链 = 电感 $\times$ 电流)
*   **V-I 关系 (微分形式)**：$v(t) = L \frac{di(t)}{dt}$
    *   *深层含义*：电压的大小取决于电流**变化的快慢**。直流电流下 $di/dt=0$，所以 $v=0$ (短路)。
*   **V-I 关系 (积分形式)**：$i(t) = \frac{1}{L} \int_{-\infty}^{t} v(\tau) d\tau = i(t_0) + \frac{1}{L} \int_{t_0}^{t} v(\tau) d\tau$
*   **能量**：$w(t) = \frac{1}{2}Li^2(t)$

### 3. 运放应用 (Op-Amp Circuits) - PPT P24-25
不要死记结论，要会推导，考试可能考变形。
*   **积分器 (Integrator)**：
    *   节点方程：$i_R + i_C = 0 \Rightarrow \frac{v_i}{R} + C\frac{dv_o}{dt} = 0$
    *   解：$v_o(t) = - \frac{1}{RC} \int_{0}^{t} v_i(\tau) d\tau + v_o(0)$
*   **微分器 (Differentiator)**：
    *   节点方程：$i_C + i_R = 0 \Rightarrow C\frac{dv_i}{dt} + \frac{v_o}{R} = 0$
    *   解：$v_o(t) = - RC \frac{dv_i}{dt}$

---

## 二、 阶跃函数与信号表示 (Singularity Functions) - PPT P71-76
这一块是处理复杂信号（如脉冲）的基础。

1.  **单位阶跃函数 (Unit Step)** $u(t)$：
    *   $t<0$ 时为 0，$t>0$ 时为 1。
    *   **作用**：用来充当“开关”。例如 $V_s u(t)$ 表示在 $t=0$ 时刻接入电压源。
2.  **延迟阶跃** $u(t-t_0)$：
    *   在 $t=t_0$ 时刻才跳变为 1。
3.  **矩形脉冲 (Pulse) 的表示**：
    *   一个从 $t_0$ 开始、持续到 $t_1$、高度为 $V_0$ 的脉冲可以表示为：
        $$v(t) = V_0 [u(t-t_0) - u(t-t_1)]$$
    *   *考点*：利用**线性叠加原理**，求脉冲响应 = 两个阶跃响应相减 (如 PPT P84-85 Example 3.6)。

---

## 三、 一阶电路深度分析 (1st-Order Analysis)

### 1. 微分方程本质
无论是 RC 还是 RL，最终都能化简为一阶线性常微分方程：
$$\frac{dy}{dt} + a y = f(t)$$
*   $a = \frac{1}{\tau}$
*   $f(t)$ 与输入源有关。

### 2. 全响应的两种拆分视角 (PPT P78 重点)
完全响应 $y(t)$ 可以看作两部分之和，有两种分法：

*   **视角 A (数学解法)**：
    *   $y(t) = y_h(t) + y_p(t)$
    *   **齐次解 (Homogeneous)**：$A e^{-t/\tau}$ (暂态，Transient)，由电路结构决定。
    *   **特解 (Particular)**：稳态解 (Steady-state)，由激励源决定。

*   **视角 B (物理意义)**：
    *   $y(t) = \text{Zero-Input Response} + \text{Zero-State Response}$
    *   **零输入响应 (ZIR)**：没有外接电源，仅靠电容/电感初始储能产生的响应。
    *   **零状态响应 (ZSR)**：初始状态为0，仅靠外接电源产生的响应。

### 3. 三要素法 (The Shortcut Method) - PPT P54
这是解题神器，但必须明确前提：**必须是直流激励 (DC driven)**。
公式：$y(t) = y(\infty) + [y(0^+) - y(\infty)]e^{-t/\tau}$
*   **难点一：时间常数 $\tau$**
    *   对于复杂电路，必须使用戴维南等效 (Thevenin Equivalent) 看进去的电阻 $R_{eq}$。
    *   **含受控源的电路**：求 $R_{eq}$ 时不能直接串并联，要用“加压求流法” ($V_{test}/I_{test}$)。
*   **难点二：初始值跳变**
    *   如果电路结构在 $t=0$ 发生突变（例如电容回路里突然串入一个电压源，不符合能量守恒），可能会出现强迫跳变（较少考，但要注意）。一般情况遵循换路定则。

---

## 四、 二阶电路终极形态 (2nd-Order RLC) - PPT P90-108
这是本章挂科率最高的地方。

### 1. 标准形式与特征方程
不管是串联还是并联，核心都是解这个特征方程：
$$s^2 + 2\alpha s + \omega_0^2 = 0$$
两个特征根 (Roots)：
$$s_{1,2} = -\alpha \pm \sqrt{\alpha^2 - \omega_0^2}$$

### 2. 串联 vs 并联 (死记硬背区)
这两个很容易搞混，考试一定要看清 Circuit 是 **Series** 还是 **Parallel**！

| 参数 | **串联 Series RLC** | **并联 Parallel RLC** |
| :--- | :--- | :--- |
| **阻尼系数** $\alpha$ | $\frac{R}{2L}$ | $\frac{1}{2RC}$ |
| **谐振频率** $\omega_0$ | $\frac{1}{\sqrt{LC}}$ | $\frac{1}{\sqrt{LC}}$ |
| **微分方程变量** | 用 $i_L$ 或 $v_C$ 列方程 | 用 $v_C$ 或 $i_L$ 列方程 |

### 3. 三种阻尼状态详解
根据 $\Delta = \alpha^2 - \omega_0^2$ 的正负判断：

*   **过阻尼 (Over-damped)** ($\alpha > \omega_0$):
    *   两个不相等的实根 $s_1, s_2$。
    *   $y(t) = A_1 e^{s_1 t} + A_2 e^{s_2 t}$
*   **临界阻尼 (Critically damped)** ($\alpha = \omega_0$):
    *   两个相等的实根 $s_1 = s_2 = -\alpha$。
    *   $y(t) = (A_1 t + A_2) e^{-\alpha t}$ (**注意这里的 $t$，很容易漏掉**)
*   **欠阻尼 (Under-damped)** ($\alpha < \omega_0$):
    *   共轭复根 $s_{1,2} = -\alpha \pm j\omega_d$。
    *   阻尼振荡频率 $\omega_d = \sqrt{\omega_0^2 - \alpha^2}$。
    *   $y(t) = e^{-\alpha t} (B_1 \cos \omega_d t + B_2 \sin \omega_d t)$

### 4. 这里的最强难点：如何求常数 $A_1, A_2$？
你需要两个初始条件：
1.  **$y(0^+)$**：直接由换路定则得到（电容保压，电感保流）。
2.  **$\frac{dy(0^+)}{dt}$ (一阶导数的初始值)**：这是大题最容易扣分的地方！

**求导数初值的通用套路**：
*   **如果是电容电压 $v_C$**：
    利用 $i_C = C \frac{dv_C}{dt} \Rightarrow \frac{dv_C(0^+)}{dt} = \frac{i_C(0^+)}{C}$。
    你需要画出 $t=0^+$ 瞬间的等效电路（电容变电压源，电感变电流源），用 KCL/KVL 算出 $i_C(0^+)$。
*   **如果是电感电流 $i_L$**：
    利用 $v_L = L \frac{di_L}{dt} \Rightarrow \frac{di_L(0^+)}{dt} = \frac{v_L(0^+)}{L}$。
    同理，在 $t=0^+$ 等效电路中算出 $v_L(0^+)$。

---

## 五、 典型陷阱题型 (Exams Traps)

1.  **开关动作很久之后再动作 (Sequential Switching)**：
    *   例如：$t=0$ 开关闭合，$t=1s$ 开关又断开。
    *   **解法**：分段处理。第一阶段的终值 $y(1^-)$ 变成第二阶段的初值 $y(1^+)$。注意时间平移，第二阶段公式里要把 $t$ 换成 $(t-1)$。

2.  **含源二阶电路**：
    *   PPT P106 提到了。
    *   **解法**：$y(t) = y_{forced} + y_{natural}$。
    *   $y_{forced}$ 就是 $y(\infty)$，直流源作用下，电容开路电感短路求稳态值。
    *   $y_{natural}$ 形式同上（过/临界/欠阻尼），但常数 $A_1, A_2$ 的计算必须基于 **全响应** $y(t)$ 在 $t=0$ 的值及其导数，**不能**只用自然响应部分去求。

3.  **PPT P112 的 Op-Amp 二阶电路**：
    *   这是一个综合题。关键在于列出节点方程 (KCL)。
    *   核心方程：$v_A = -RC_2 \frac{dv_0}{dt}$
    *   将 KCL 方程化简为标准二阶微分方程形式，对比系数找出 $\alpha$ 和 $\omega_0^2$ 的表达式，从而讨论稳定性。

---

## 六、 总结：如何复习这份PPT？
1.  **P1-23**: 快速扫过，记住电容电感 $V-I$ 关系和能量公式。
2.  **P39-70 (一阶)**: 重点看 **Example 3.8 (P86)**。这个题涉及两个独立电路在 $t>0$ 后的计算，以及如何求 $\tau$。一定要亲手算一遍。
3.  **P71-89 (阶跃)**: 理解 Example 3.6 (P84) 的**脉冲响应**。它利用了 $v(t) = V_0 u(t) - V_0 u(t-t_0)$，结果是两个阶跃响应的叠加。
4.  **P90-114 (二阶)**: **重中之重**。
    *   背熟 $\alpha$ 的串并联公式。
    *   熟练掌握如何求 $dv(0^+)/dt$。
    *   做 PPT P109-111 的完整例题。这个例题展示了从初始条件 -> 列微分方程 -> 求特征根 -> 定常数 的完整过程。