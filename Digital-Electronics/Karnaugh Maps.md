# 卡诺图 (Karnaugh Maps)

## 🎓 第一部分：引言与知识回顾 

### **1.1 课程信息**
*   **课程代码与名称:** 数字电子学基础
*   **讲座主题:** 卡诺图 (Karnaugh Maps)

### **1.2 核心知识回顾 (Revision)**

#### **1.2.1 组合逻辑 (Combinational Logic)**
*   **核心特性:** 组合逻辑电路的输出仅取决于**当前**的输入状态，与过去的输入历史无关（无记忆功能）。
*   **通用性:** 几乎**任何**组合逻辑电路都可以仅用“与非门 (NAND)”或“或非门 (NOR)”来实现，这两种门被称为**通用门**。
    *   **与门 (AND)** = NAND + NOT
    *   **或门 (OR)** = 输入取反的NAND (即 NOT + NOT + NAND)
    *   **非门 (NOT)** = 输入端相连的NAND

#### **1.2.2 标准 SOP 与 POS 形式**
*   **标准 SOP (积之和):** 表达式中**每一个积项**都必须包含域内的**所有**变量。
    *   **例:** `A'BCD' + AB'C'D + ABC'D'`
*   **标准 POS (和之积):** 表达式中**每一个和项**都必须包含域内的**所有**变量。
    *   **例:** `(A'+B'+C'+D) · (A'+B+C+D) · (A+B'+C'+D)`

#### **1.2.3 标准形式的转换**
*   **转换为标准 SOP:** 通过乘以 `(X + X')` (值为1) 来补充缺失的变量，然后展开。
*   **转换为标准 POS:** 通过加上 `XX'` (值为0) 来补充缺失的变量，然后使用分配律 `(A+B)(A+C) = A+BC`。
*   **SOP ↔ POS 转换:** 利用两者在真值表中的**互补关系**。一个函数SOP形式包含的二进制组合（输出为1），是其POS形式不包含的组合（输出为0），反之亦然。

---

## 🗺️ 第二部分：卡诺图基础 

### **2.1 讲座概述与目标**
*   **概述:** 介绍3、4、5变量卡诺图，学习如何使用卡诺图最小化SOP表达式，以及如何将真值表直接映射到卡诺图。
*   **目标:**
    1.  掌握3、4、5变量卡诺图的构建和使用。
    2.  学习通过在卡诺图中对单元格进行分组来最小化SOP和POS表达式。

### **2.2 卡诺图 (Karnaugh Map) 是什么？**
*   **定义:** 卡诺图是真值表的一种图形化表示。它将所有可能的输入变量组合排列在一个单元格矩阵中，每个单元格代表一种输入组合。
*   **核心目的:** 提供一种**系统化**的、**直观**的图形方法来**简化布尔表达式**，以获得最简的SOP或POS形式。

### **2.3 卡诺图的结构**
*   **单元格数量:** 对于 `n` 个变量，卡诺图有 `2ⁿ` 个单元格。
*   **坐标轴:** 变量被分配到卡诺图的行和列。
*   **格雷码排序 (Gray Code):** 卡诺图的行和列索引**不**遵循标准的二进制递增顺序，而是采用**格雷码** (`00`, `01`, `11`, `10`)。
    > **核心原则:** 在格雷码中，任意两个**相邻**的编码只有**一位**不同。这是卡诺图能够成功进行简化的关键所在。

### **2.4 单元邻接性 (Cell Adjacency)**
*   **定义:** 在卡诺图中，两个单元格如果其代表的二进制码只有一位不同，则它们是**相邻**的。
*   **几何体现:**
    *   水平或垂直方向上紧挨着的单元格是相邻的。
    *   **卷边特性 (Wrap-around):** 卡诺图的**最上边与最下边**是相邻的，**最左边与最右边**也是相邻的。可以将其想象成一个可以卷成圆柱体或环面的地图。

---

## 🛠️ 第三部分：使用卡诺图进行SOP最小化 

### **3.1 步骤一：映射 (Mapping)**
将布尔表达式或真值表的信息填入卡诺图的过程。
*   **SOP 映射:** 在真值表中所有输出为 **`1`** 的行，在其对应的卡诺图单元格中填入 **`1`**。（`0` 通常省略不写）。
*   **非标准SOP映射:**
    1.  首先将非标准项展开为标准最小项的集合。
    2.  例如，项 `A'` (在ABC域中) 包含 `A'B'C'`, `A'B'C`, `A'BC'`, `A'BC`，因此需要在卡诺图中 `A=0` 的所有四个单元格中填 `1`。

### **3.2 步骤二：分组 (Grouping)**
这是卡诺图化简的核心步骤。目标是用**最大**和**最少**的矩形圈来覆盖所有的 `1`。
*   **分组规则:**
    1.  **大小:** 每个圈必须包含 **2ⁿ** 个 `1` (即1, 2, 4, 8, 16个)。
    2.  **形状:** 圈必须是**矩形**或**正方形**。
    3.  **邻接:** 圈内的所有 `1` 必须彼此相邻（利用卷边特性）。
    4.  **最大化:** 总是圈出**可能的最大**的有效分组。
    5.  **覆盖:** **每一个 `1`** 都必须至少被一个圈覆盖。
    6.  **最少化:** 使用**最少的圈数**来覆盖所有的 `1`。
    7.  **重叠:** 圈与圈之间可以重叠，如果重叠有助于形成更大的圈。

### **3.3 步骤三：写出最小化表达式**
*   **化简规则:**
    > 对于每一个圈，写出一个积项。该积项只包含在**整个圈内保持不变**的变量。如果一个变量在圈内同时出现了原变量和反变量的形式（例如，圈跨越了 `C=0` 和 `C=1` 的列），则该变量被**消去**。

*   **示例:** 在一个4变量 (ABCD) 卡诺图中：
    *   一个 **8个 `1` 的圈** 会消去3个变量，剩下一个变量的项（如 `B`）。
    *   一个 **4个 `1` 的圈** 会消去2个变量，剩下两个变量的项（如 `A'C`）。
    *   一个 **2个 `1` 的圈** 会消去1个变量，剩下三个变量的项（如 `A'CD`）。
*   **最终结果:** 将所有圈对应的积项**相加 (OR)**，即得到最小化的SOP表达式。

---

## ✨ 第四部分：高级卡诺图概念 

### **4.1 “无关项” (Don't Care Conditions)**
*   **定义:** 在某些数字系统中，某些输入组合是**不可能发生**的或其输出**无关紧要**。这些情况被称为“无关项”。
*   **表示:** 在真值表和卡诺图中用 **`X`** 表示。
*   **使用规则:**
    > 在分组时，可以**选择性地**将 `X` 当作 `1` 来使用，**前提**是这样做可以帮助你圈出**更大**的组。你**没有义务**去覆盖任何一个 `X`。
*   **优势:** 合理利用无关项可以得到比不使用它们时**更简化**的逻辑表达式。

### **4.2 POS 表达式的最小化**
使用卡诺图化简POS表达式的流程与SOP类似，但有关键区别：
1.  **映射:** 将真值表中输出为 **`0`** 的项填入卡诺图。
2.  **分组:** 遵循相同的规则，对所有的 **`0`** 进行分组。
3.  **写出表达式:**
    *   从每个圈导出一个**和项 (Sum Term)**。
    *   **反向互补规则:** 在圈内保持不变的变量构成和项。但此时，`0` 对应**原变量** (如 `A`)，`1` 对应**反变量** (如 `A'`)。
    *   **最终结果:** 将所有圈对应的和项**相乘 (AND)**，得到最小化的POS表达式。

### **4.3 5变量卡诺图**
*   **结构:** 可以看作是**两个**4变量卡诺图的**分层结构**。
    *   一个图层代表 `A=0`，另一个代表 `A=1`。
    *   域为 `A, B, C, D, E`。
*   **邻接性:** 除了每个图层内部的邻接关系外，两个图层**相同位置**的单元格也是相邻的（因为它们只在变量 `A` 上不同）。
*   **分组:** 分组可以完全在一个图层内，也可以跨越两个图层（形成三维的圈）。

---

## 🏁 第五部分：总结 
本讲座系统地介绍了卡诺图这一强大的逻辑简化工具。
*   **核心内容:**
    1.  引入了3、4、5变量卡诺图的结构和原理。
    2.  演示了如何将SOP和POS表达式映射到卡诺图上。
    3.  详细阐述了通过分组来最小化SOP表达式的规则和技巧。
    4.  展示了如何将真值表直接映射到卡诺图进行简化。
    5.  解释了“无关项” (Don't Care) 的概念及其在简化中的应用。